!pip install biopython


##################################################################################################


# ì½”ëˆì„ í™œìš©í•œ ì´ë¦„ ì•”í˜¸ ì œì‘
from Bio.Seq import Seq
from Bio.SeqUtils import seq3

# 1. ë¬¸ìì™€ ëŒ€ì‘í•˜ëŠ” ì•„ë¯¸ë…¸ì‚° ë° ì½”ëˆ ì„¤ì • (í•„ìš”í•œ ë¬¸ìë¥¼ ëª¨ë‘ ì¶”ê°€)
codon_map = {
    'A': 'GCT',  # Alanine
    'B': 'AAT',  # Asparagine (ì„ì˜ì˜ í• ë‹¹)
    'C': 'TGC',  # Cysteine
    'D': 'GAT',  # Aspartic Acid
    'E': 'GAG',  # Glutamic Acid
    'F': 'TTT',  # Phenylalanine
    'G': 'GGT',  # Glycine
    'H': 'CAT',  # Histidine
    'I': 'ATA',  # Isoleucine
    'J': 'ATC',  # Isoleucine (JëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ, Iì™€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬)
    'K': 'AAA',  # Lysine
    'L': 'CTG',  # Leucine
    'M': 'ATG',  # Methionine
    'N': 'AAC',  # Asparagine
    'O': 'CCG',  # Proline (ì„ì˜ì˜ í• ë‹¹)
    'P': 'CCT',  # Proline
    'Q': 'CAA',  # Glutamine
    'R': 'CGT',  # Arginine
    'S': 'AGT',  # Serine
    'T': 'ACC',  # Threonine
    'U': 'TGA',  # Stop codon (UëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ, ì—¬ê¸°ì„œ TGAë¥¼ ì‚¬ìš©)
    'V': 'GTT',  # Valine
    'W': 'TGG',  # Tryptophan
    'X': 'TAA',  # Stop codon (XëŠ” stop codonì„ ë‚˜íƒ€ëƒ„)
    'Y': 'TAC',  # Tyrosine
    'Z': 'GAA',  # Glutamic Acid (ì„ì˜ì˜ í• ë‹¹)
    ' ': 'TAA',  # Stop codon to represent space
}

# ì½”ëˆì—ì„œ ë¬¸ìë¡œ ì—­ë³€í™˜í•˜ê¸° ìœ„í•œ ì‚¬ì „ ìƒì„±
reverse_codon_map = {v: k for k, v in codon_map.items()}


##################################################################################################


# 2. ì˜ˆì‹œ ë‹¨ë°±ì§ˆ ì„œì—´
protein_sequence = "SONGDAYUN" #ë³¸ì¸ ì´ë¦„ ì˜ì–´ ëŒ€ë¬¸ìë¡œ ì…ë ¥


##################################################################################################


# 3. ë‹¨ë°±ì§ˆ ì„œì—´ì„ DNA ì—¼ê¸°ì„œì—´ë¡œ ë³€í™˜
dna_sequence = "".join(codon_map[char] for char in protein_sequence)
print(f"DNA Sequence from protein '{protein_sequence}': {dna_sequence}")


##################################################################################################





from Bio.Seq import Seq

# ë¬¸ìì™€ ëŒ€ì‘í•˜ëŠ” ì•„ë¯¸ë…¸ì‚° ë° ì½”ëˆ ì„¤ì • (í•„ìš”í•œ ë¬¸ìë¥¼ ëª¨ë‘ ì¶”ê°€)
codon_map = {
    'A': 'GCT',  # Alanine
    'B': 'AAT',  # Asparagine (ì„ì˜ì˜ í• ë‹¹)
    'C': 'TGC',  # Cysteine
    'D': 'GAT',  # Aspartic Acid
    'E': 'GAG',  # Glutamic Acid
    'F': 'TTT',  # Phenylalanine
    'G': 'GGT',  # Glycine
    'H': 'CAT',  # Histidine
    'I': 'ATA',  # Isoleucine
    'J': 'ATC',  # Isoleucine (JëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ, Iì™€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬)
    'K': 'AAA',  # Lysine
    'L': 'CTG',  # Leucine
    'M': 'ATG',  # Methionine
    'N': 'AAC',  # Asparagine
    'O': 'CCG',  # Proline (ì„ì˜ì˜ í• ë‹¹)
    'P': 'CCT',  # Proline
    'Q': 'CAA',  # Glutamine
    'R': 'CGT',  # Arginine
    'S': 'AGT',  # Serine
    'T': 'ACC',  # Threonine
    'U': 'TGA',  # Stop codon (UëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ, ì—¬ê¸°ì„œ TGAë¥¼ ì‚¬ìš©)
    'V': 'GTT',  # Valine
    'W': 'TGG',  # Tryptophan
    'X': 'TAA',  # Stop codon (XëŠ” stop codonì„ ë‚˜íƒ€ëƒ„)
    'Y': 'TAC',  # Tyrosine
    'Z': 'GAA',  # Glutamic Acid (ì„ì˜ì˜ í• ë‹¹)
    ' ': 'TAA',  # Stop codon to represent space
}


##################################################################################################


# ì½”ëˆì—ì„œ ë¬¸ìë¡œ ì—­ë³€í™˜í•˜ê¸° ìœ„í•œ ì‚¬ì „ ìƒì„±
reverse_codon_map = {v: k for k, v in codon_map.items()}

def translate_dna_to_text(dna_sequence):
    # 1. DNA ì—¼ê¸°ì„œì—´ì„ ì½”ëˆ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê¸°
    codons = [dna_sequence[i:i+3] for i in range(0, len(dna_sequence), 3)]

    # 2. ê° ì½”ëˆì„ ë¬¸ìë¡œ ë³€í™˜ (ì½”ëˆì´ 3ê°œ ì—¼ê¸°ë¡œ ì™„ì„±ëœ ê²½ìš°ì—ë§Œ ë³€í™˜)
    text = ""
    for codon in codons:
        if len(codon) == 3:
            if codon in reverse_codon_map:
                text += reverse_codon_map[codon]
            else:
                text += '?'  # ì•Œ ìˆ˜ ì—†ëŠ” ì½”ëˆ ì²˜ë¦¬ (ì—ëŸ¬ ë°©ì§€ìš©)
        else:
            text += '?'  # ë¶ˆì™„ì „í•œ ì½”ëˆ ì²˜ë¦¬ (ì—ëŸ¬ ë°©ì§€ìš©)

    return text

    

##################################################################################################


# ì‚¬ìš©ìë¡œë¶€í„° DNA ì—¼ê¸°ì„œì—´ ì…ë ¥ë°›ê¸°
user_input = input("Enter a DNA sequence (multiple of 3 nucleotides): ").upper()
translated_text = translate_dna_to_text(user_input)
print(f"Translated text: {translated_text}")
    

##################################################################################################






#ì¬ë¯¸ë¡œ ë³´ëŠ” ë‚´ì´ë¦„ ì•„ë¯¸ë…¸ì‚° ì„±ê²©í‘œ


# ğŸ”¬ ì•„ë¯¸ë…¸ì‚° ì •ë³´ ì‚¬ì „ 
codon_analysis = {
    'GCT': ("ì•Œë¼ë‹Œ", "ê·¼ìœ¡ ìƒì„±", "ê¸°ì´ˆ ì²´ë ¥í˜• / ë¬µë¬µíˆ ë²„íŒ€"),
    'AAT': ("ì•„ìŠ¤íŒŒë¼ê¸´", "ì‹ ê²½ ì•ˆì •", "í‰í™”í˜• / ê°ˆë“± í”¼í•¨"),
    'TGC': ("ì‹œìŠ¤í…Œì¸", "í•­ì‚°í™” ì—­í• ", "ë‚´ë©´ ê°•í•œ ì•ˆì •í˜• / ê°ì • ê¸°ë³µ ì ìŒ"),
    'GAT': ("ì•„ìŠ¤íŒŒë¥´íŠ¸ì‚°", "ì—ë„ˆì§€ ëŒ€ì‚¬", "ë¶„ì„í˜• / ì´ì„±ì  ì‚¬ê³ "),
    'GAG': ("ê¸€ë£¨íƒì‚°", "ì‹ ê²½ ì „ë‹¬", "ê°ê°í˜• / ì˜ˆë¯¼í•˜ê³  ì„¬ì„¸"),
    'TTT': ("í˜ë‹ì•Œë¼ë‹Œ", "ë„íŒŒë¯¼ ìƒì„±", "ì—´ì •í˜• / ê°ì • í‘œí˜„ ì ê·¹"),
    'GGT': ("ê¸€ë¼ì´ì‹ ", "ì½œë¼ê² êµ¬ì„±", "ì˜¨ìˆœí˜• / ë¶€ë“œëŸ½ê³  ìœ ì—°"),
    'CAT': ("íˆìŠ¤í‹°ë”˜", "ë©´ì—­ ê¸°ëŠ¥", "ë³´í˜¸í˜• / ë°©ì–´ë ¥ ê°•í•¨"),
    'ATA': ("ì•„ì´ì†Œë¥˜ì‹ ", "ê·¼ìœ¡ íšŒë³µ", "ìš´ë™í˜• / íšŒë³µë ¥ ì¢‹ìŒ"),
    'ATC': ("ì•„ì´ì†Œë¥˜ì‹ ", "ê·¼ìœ¡ íšŒë³µ", "ìš´ë™í˜• / íšŒë³µë ¥ ì¢‹ìŒ"),
    'AAA': ("ë¼ì´ì‹ ", "ì„±ì¥ ì´‰ì§„", "ì„±ì¥í˜• / ëª©í‘œ ì§€í–¥ì "),
    'CTG': ("ë¥˜ì‹ ", "ë‹¨ë°±ì§ˆ í•©ì„±", "ë¦¬ë”í˜• / ì£¼ë„ì "),
    'ATG': ("ë©”í‹°ì˜¤ë‹Œ", "ì„¸í¬ íšŒë³µ", "ì¬ìƒí˜• / ì¡°ìš©íˆ ì˜í–¥ë ¥ ìˆìŒ"),
    'AAC': ("ì•„ìŠ¤íŒŒë¼ê¸´", "ì‹ ê²½ ì•ˆì •", "í‰í™”í˜• / ê°ˆë“± í”¼í•¨"),
    'CCG': ("í”„ë¡¤ë¦°", "í”¼ë¶€ íƒ„ë ¥", "ìœ ì§€í˜• / ì•ˆì •ì  ì§€ì†"),
    'CCT': ("í”„ë¡¤ë¦°", "í”¼ë¶€ íƒ„ë ¥", "ìœ ì§€í˜• / ì•ˆì •ì  ì§€ì†"),
    'CAA': ("ê¸€ë£¨íƒ€ë¯¼", "ë©´ì—­ ì¡°ì ˆ", "ì¤‘ì¬í˜• / ì¡°ìœ¨ ëŠ¥ë ¥"),
    'CGT': ("ì•„ë¥´ê¸°ë‹Œ", "í˜ˆê´€ í™•ì¥", "ì°½ì˜í˜• / ë„ì „ ì¢‹ì•„í•¨"),
    'AGT': ("ì„¸ë¦°", "ëŒ€ì‚¬ íš¨ì†Œ", "ì‹¤ìš©í˜• / ê³„íšì "),
    'ACC': ("íŠ¸ë ˆì˜¤ë‹Œ", "ë©´ì—­/ëŒ€ì‚¬", "ê· í˜•í˜• / íë¦„ ì¡°ì ˆ ì˜í•¨"),
    'TGA': ("ìŠ¤íƒ‘ì½”ëˆ", "ë‹¨ë°±ì§ˆ ì¢…ë£Œ", "ì •ë¦¬í˜• / ë§ˆë¬´ë¦¬ ì˜í•¨"),
    'GTT': ("ë°œë¦°", "ê·¼ìœ¡ ì—ë„ˆì§€", "í™œë™í˜• / ì—ë„ˆì§€ ë„˜ì¹¨"),
    'TGG': ("íŠ¸ë¦½í† íŒ", "ì„¸ë¡œí† ë‹Œ ìƒì„±", "ê°ì„±í˜• / ì˜ˆìˆ Â·ì°½ì˜ ì¤‘ì‹œ"),
    'TAC': ("í‹°ë¡œì‹ ", "ê¸°ë¶„ ì¡°ì ˆ", "ì§ê´€í˜• / ìƒí™© ì¸ì§€ë ¥ ë†’ìŒ"),
    'TAA': ("ìŠ¤íƒ‘ì½”ëˆ", "ë¬¸ì¥ êµ¬ë¶„", "ì •ë¦¬í˜• / íœ´ì‹ ì¤‘ìš”ì‹œ")

}

# ğŸ”¡ ì•ŒíŒŒë²³ â†’ ì½”ëˆ ë³€í™˜ ê·œì¹™
codon_map = {
    'A': 'GCT', 'B': 'AAT', 'C': 'TGC', 'D': 'GAT', 'E': 'GAG',
    'F': 'TTT', 'G': 'GGT', 'H': 'CAT', 'I': 'ATA', 'J': 'ATC',
    'K': 'AAA', 'L': 'CTG', 'M': 'ATG', 'N': 'AAC', 'O': 'CCG',
    'P': 'CCT', 'Q': 'CAA', 'R': 'CGT', 'S': 'AGT', 'T': 'ACC',
    'U': 'TGA', 'V': 'GTT', 'W': 'TGG', 'X': 'TAA', 'Y': 'TAC',
    'Z': 'GAA', ' ': 'TAA',
}
    

##################################################################################################



# DNA ì„œì—´ì„ 3ê¸€ì ë‹¨ìœ„ ì½”ëˆìœ¼ë¡œ ë‚˜ëˆ„ê¸°
codons = [dna_sequence[i:i+3] for i in range(0, len(dna_sequence), 3)]

# ê²°ê³¼ ì¶œë ¥
print("\nğŸ“œ ë‚˜ì˜ ìœ ì „ì ì„±ê²©í‘œ")
print("=" * 50)
for codon in codons:
    aa, function, personality = codon_analysis.get(codon, ("â“ ì•Œ ìˆ˜ ì—†ìŒ", "-", "-"))
    print(f"[{codon}] âœ {aa} | {function} | {personality}")



##################################################################################################

# 1. ì¹´ìš´íŠ¸
aa_counter = Counter()
for codon in codons:
    aa, _, _ = codon_analysis.get(codon, ("â“ ì•Œ ìˆ˜ ì—†ìŒ", "-", "-"))
    if aa != "â“ ì•Œ ìˆ˜ ì—†ìŒ":
        aa_counter[aa] += 1

# 2. ìƒìœ„ 3ê°œ ì¶”ì¶œ
top_3 = aa_counter.most_common(3)

# 3. ì„±ê²© í¬í•¨ëœ ìƒì„¸ ì •ë³´ êµ¬ì„±
top_3_detailed = []
for aa, count in top_3:
    for codon, (aa_name, _, personality) in codon_analysis.items():
        if aa_name == aa:
            top_3_detailed.append((aa, count, personality))
            break

# 4. ì¶œë ¥
print("\nğŸ† ê°€ì¥ ë§ì´ ë“±ì¥í•œ ìœ ì „ì TOP 3")
print("=" * 50)
for aa, count, personality in top_3_detailed:
    print(f"- {aa}: {count}íšŒ ë“±ì¥ / {personality}")


##################################################################################################
